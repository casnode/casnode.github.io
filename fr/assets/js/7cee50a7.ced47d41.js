"use strict";(self.webpackChunkcasnode_website=self.webpackChunkcasnode_website||[]).push([[575],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return u}});var a=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),m=p(t),u=o,g=m["".concat(l,".").concat(u)]||m[u]||c[u]||r;return t?a.createElement(g,i(i({ref:n},s),{},{components:t})):a.createElement(g,i({ref:n},s))}));function u(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var d={};for(var l in n)hasOwnProperty.call(n,l)&&(d[l]=n[l]);d.originalType=e,d.mdxType="string"==typeof e?e:o,i[1]=d;for(var p=2;p<r;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},1095:function(e,n,t){t.r(n),t.d(n,{assets:function(){return l},contentTitle:function(){return i},default:function(){return c},frontMatter:function(){return r},metadata:function(){return d},toc:function(){return p}});var a=t(3117),o=(t(7294),t(3905));const r={},i=void 0,d={unversionedId:"bt-panel",id:"bt-panel",title:"bt-panel",description:"Installer Casnode sous le panneau BT Linux",source:"@site/i18n/fr/docusaurus-plugin-content-docs/current/bt-panel.md",sourceDirName:".",slug:"/bt-panel",permalink:"/fr/docs/bt-panel",draft:!1,editUrl:"https://github.com/casnode/casnode-website/tree/master/docs/bt-panel.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/fr/docs/installation"},next:{title:"docker",permalink:"/fr/docs/docker"}},l={},p=[{value:"Installer Casnode sous le panneau BT Linux",id:"installer-casnode-sous-le-panneau-bt-linux",level:2},{value:"Pr\xe9paration du travail",id:"pr\xe9paration-du-travail",level:3}],s={toc:p};function c(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"L'environnement du tutoriel est Ubuntu 20.04  ",type:"caution"}),(0,o.kt)("h2",{id:"installer-casnode-sous-le-panneau-bt-linux"},"Installer Casnode sous le panneau BT Linux"),(0,o.kt)("h3",{id:"pr\xe9paration-du-travail"},"Pr\xe9paration du travail"),(0,o.kt)("p",null,"Apr\xe8s avoir install\xe9 le panneau BT, le navigateur visite le panneau BT, s\xe9lectionne le magasin de logiciels, recherche et installe MySQL, puis recherche un noeud, vous pouvez voir qu'il y a un gestionnaire PM2, installez le gestionnaire PM2."),(0,o.kt)("p",null,"Une fois l'installation termin\xe9e, d\xe9connectez-vous du serveur ou red\xe9marrez le serveur, le noeud sera automatiquement \xe9crit dans la variable d'environnement."),(0,o.kt)("p",null,"Entrez ",(0,o.kt)("inlineCode",{parentName:"p"},"git --version")," pour vous assurer que git est bien , si la commande d'invite de commande ",(0,o.kt)("inlineCode",{parentName:"p"},"git")," est introuvable, utilisez ",(0,o.kt)("inlineCode",{parentName:"p"},"apt-get install git")," pour installer git."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("mdxAdmonitionTitle",{parentName:"admonition"},"Pour acc\xe9der au Casnode avec succ\xe8s, vous devez ouvrir le port ",(0,o.kt)("strong",{parentName:"mdxAdmonitionTitle"},"7001")," et ",(0,o.kt)("strong",{parentName:"mdxAdmonitionTitle"},"8000"),". :::"),(0,o.kt)("h4",{parentName:"admonition",id:"install-golang"},"Install Golang"),(0,o.kt)("p",{parentName:"admonition"},"L'utilisateur root ex\xe9cute les commandes suivantes pour t\xe9l\xe9charger et d\xe9compresser le fichier binaire Go dans le r\xe9pertoire ",(0,o.kt)("strong",{parentName:"p"},"/usr/local"),"."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"wget -c https://dl.google.com/go/go1.16.5.linux-amd64.tar.gz -O - | sudo tar -xz -C /usr/local\n")),(0,o.kt)("p",{parentName:"admonition"},"Then we need to add Golang to the environment variables, edit ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/profile"),", add the following code in the last line of the file."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"export GOROOT=/usr/local/go\nexport PATH=$PATH:$GOROOT/bin\n")),(0,o.kt)("p",{parentName:"admonition"},"Then use command ",(0,o.kt)("inlineCode",{parentName:"p"},"source /etc/profile")," to make the newly added environment variables work."),(0,o.kt)("p",{parentName:"admonition"},"Now, enter ",(0,o.kt)("inlineCode",{parentName:"p"},"go version"),", you will see the go version, and we installed it successfully. If you can\u2019t connect to GitHub, you can set up the mirror. The command is"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-go"},"go env -w GOPROXY=https://goproxy.cn,direct\n")),(0,o.kt)("h4",{parentName:"admonition",id:"git-clone-casnode--casdoor"},"Git clone Casnode & Casdoor"),(0,o.kt)("p",{parentName:"admonition"},"Next, execute the following commands in the folder where you want to store the project."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/casbin/casdoor.git\ngit clone https://github.com/casbin/casnode.git\n")),(0,o.kt)("p",{parentName:"admonition"},"Now, you can see there are two folders, Casnode and Casdoor."),(0,o.kt)("br",null),(0,o.kt)("h3",{parentName:"admonition",id:"configurer-casdoor"},"Configurer Casdoor"),(0,o.kt)("h4",{parentName:"admonition",id:"lancer-casdoor"},"Lancer Casdoor"),(0,o.kt)("p",{parentName:"admonition"},"We first configure Casdoor."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-go"},"cd casdoor\ngo build main.go\n")),(0,o.kt)("p",{parentName:"admonition"},"Then edit ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),", find"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre"},"dataSourceName = root:123@tcp(localhost:3306)/\n")),(0,o.kt)("p",{parentName:"admonition"},"Change MySQL password provided by the BT panel as ",(0,o.kt)("strong",{parentName:"p"},"123"),"."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"web cd\nnpm install\nnpm run build\ncd ..\nsudo nohup ./main &\n")),(0,o.kt)("h4",{parentName:"admonition",id:"configurer-casnode-dans-casdoor"},"Configurer Casnode dans Casdoor"),(0,o.kt)("p",{parentName:"admonition"},"Now that Casdoor has been configured, visit http://your-ip:8000 to configure Casnode."),(0,o.kt)("p",{parentName:"admonition"},"The default administrator login account is ",(0,o.kt)("inlineCode",{parentName:"p"},"admin/123"),"."),(0,o.kt)("p",{parentName:"admonition"},"Click Organization, then click Add, click Edit for the added organization, and change the name to the organization name you want. Here I set it to casbin-forum, and then click Save."),(0,o.kt)("p",{parentName:"admonition"},"Click Applications, then click Add, for the application you just added, click Edit, change the name to the application name you want, I changed it to app-casbin-forum. Click on the organization, select the organization you just added, my organization  is casbin- forum. Click Redirect URLs, modify the link in the box to http://your-ip:7000/callback.Finally, remember the Client ID and Client Secret, and click Save."),(0,o.kt)("p",{parentName:"admonition"},"Click Users, click Add, then click Edit, modify the added user, click Organization, select casbin-forum, and click is admin. Finally click Save, now your organization has an administrator account."),(0,o.kt)("br",null),(0,o.kt)("h3",{parentName:"admonition",id:"configurer-casnode"},"Configurer Casnode"),(0,o.kt)("p",{parentName:"admonition"},"Next we configure in Casnode."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"cd casnode\ngo build main.go\n")),(0,o.kt)("p",{parentName:"admonition"},"Edit ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),", find"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre"},"dataSourceName = root:123@tcp(localhost:3306)/\n")),(0,o.kt)("p",{parentName:"admonition"},"Change MySQL password provided by the BT panel to ",(0,o.kt)("strong",{parentName:"p"},"123"),", then find casdoorEndpoint, modify it to http://your-ip:8000 (Casdoor backend address), find ",(0,o.kt)("strong",{parentName:"p"},"ClientId")," and ",(0,o.kt)("strong",{parentName:"p"},"ClientSecret"),", and modify them to the previously remembered Application client id and client secret, find casdoorOrganization, modify the organization name to your set. Save and exit."),(0,o.kt)("p",{parentName:"admonition"},"Edit ",(0,o.kt)("inlineCode",{parentName:"p"},"web/src/Conf.js"),", modify ",(0,o.kt)("inlineCode",{parentName:"p"},"serverUrl")," to http://your-ip:8000 (Casdoor front-end access address), modify ",(0,o.kt)("inlineCode",{parentName:"p"},"ClientId")," to the ClientId of the application just added, modify ",(0,o.kt)("inlineCode",{parentName:"p"},"appName")," to the set application name, and modify ",(0,o.kt)("inlineCode",{parentName:"p"},"organizationName")," to the set organization name."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"npm install\nnpm run build\ncd ..\nnohup ./main &\n")),(0,o.kt)("p",{parentName:"admonition"},"Next visit ",(0,o.kt)("strong",{parentName:"p"},"http://your-ip:7000"),", click login, enter the account you added before, user_1/123, you have now successfully logged in to Casnode."),(0,o.kt)("p",{parentName:"admonition"},"For more settings please see ",(0,o.kt)("a",{parentName:"p",href:"https://casnode.org/docs"},"Casnode."))))}c.isMDXComponent=!0}}]);