"use strict";(self.webpackChunkcasnode_website=self.webpackChunkcasnode_website||[]).push([[669],{8325:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return r},contentTitle:function(){return d},metadata:function(){return s},toc:function(){return c},default:function(){return u}});var a=t(7462),o=t(3366),l=(t(7294),t(3905)),i=["components"],r={},d=void 0,s={unversionedId:"bt-panel",id:"bt-panel",isDocsHomePage:!1,title:"bt-panel",description:"::caution \u041e\u0431\u043e\u043b\u043e\u0447\u043a\u0430 Ubuntu 20.04",source:"@site/i18n/ru/docusaurus-plugin-content-docs/current/bt-panel.md",sourceDirName:".",slug:"/bt-panel",permalink:"/ru/docs/bt-panel",editUrl:"https://github.com/casnode/casnode-website/tree/master/docs/bt-panel.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",permalink:"/ru/docs/installation"},next:{title:"docker",permalink:"/ru/docs/docker"}},c=[{value:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 Casnode \u043f\u043e\u0434 \u043f\u0430\u043d\u0435\u043b\u044c Linux BT",id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435-casnode-\u043f\u043e\u0434-\u043f\u0430\u043d\u0435\u043b\u044c-linux-bt",children:[{value:"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u0440\u0430\u0431\u043e\u0442\u0435",id:"\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430-\u043a-\u0440\u0430\u0431\u043e\u0442\u0435",children:[{value:"Install Golang",id:"install-golang",children:[],level:4},{value:"Git clone Casnode &amp; Casdoor",id:"git-clone-casnode--casdoor",children:[],level:4}],level:3},{value:"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Casdoor",id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c-casdoor",children:[{value:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u0430\u0441\u0442\u0440\u044e\u043b\u044c",id:"\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c-\u043a\u0430\u0441\u0442\u0440\u044e\u043b\u044c",children:[],level:4},{value:"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Casnode \u0432 Casdoor",id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c-casnode-\u0432-casdoor",children:[],level:4}],level:3},{value:"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Casnode",id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c-casnode",children:[],level:3}],level:2}],p={toc:c};function u(e){var n=e.components,t=(0,o.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"::caution \u041e\u0431\u043e\u043b\u043e\u0447\u043a\u0430 Ubuntu 20.04",(0,l.kt)("br",{parentName:"p"}),"\n",":::"),(0,l.kt)("h2",{id:"\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435-casnode-\u043f\u043e\u0434-\u043f\u0430\u043d\u0435\u043b\u044c-linux-bt"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 Casnode \u043f\u043e\u0434 \u043f\u0430\u043d\u0435\u043b\u044c Linux BT"),(0,l.kt)("h3",{id:"\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430-\u043a-\u0440\u0430\u0431\u043e\u0442\u0435"},"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u043a \u0440\u0430\u0431\u043e\u0442\u0435"),(0,l.kt)("p",null,"\u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0430\u043d\u0435\u043b\u0438 BT \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043f\u043e\u0441\u0435\u0449\u0430\u0435\u0442 \u043f\u0430\u043d\u0435\u043b\u044c BT, \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u043c\u0430\u0433\u0430\u0437\u0438\u043d \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u043e\u0433\u043e \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f, \u0438\u0449\u0435\u0442 \u0438 \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 MySQL, \u0430 \u0437\u0430\u0442\u0435\u043c \u0438\u0449\u0435\u0442 \u0443\u0437\u0435\u043b, \u0432\u044b \u0443\u0432\u0438\u0434\u0438\u0442\u0435, \u0447\u0442\u043e \u0435\u0441\u0442\u044c \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 PM2, \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 PM2."),(0,l.kt)("p",null,"\u041f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u0441\u044c \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438\u043b\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440, \u0443\u0437\u0435\u043b \u0431\u0443\u0434\u0435\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0441\u0440\u0435\u0434\u044b."),(0,l.kt)("p",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ",(0,l.kt)("inlineCode",{parentName:"p"},"git --version")," , \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e git \u044d\u0442\u043e , \u0435\u0441\u043b\u0438 \u043a\u043e\u043c\u0430\u043d\u0434\u044b ",(0,l.kt)("inlineCode",{parentName:"p"},"git")," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 ",(0,l.kt)("inlineCode",{parentName:"p"},"apt-get install git")," \u0434\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 git."),(0,l.kt)("p",null,"::tip \u0414\u043b\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a Casnode \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0440\u0442 ",(0,l.kt)("strong",{parentName:"p"},"7001")," \u0438 ",(0,l.kt)("strong",{parentName:"p"},"8000")," :::"),(0,l.kt)("h4",{id:"install-golang"},"Install Golang"),(0,l.kt)("p",null,"\u041a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0438 \u0431\u0438\u043d\u0430\u0440\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 Go \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 ",(0,l.kt)("strong",{parentName:"p"},"/usr/local"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"wget -c https://dl.google.com/go/go1.16.5.linux-amd64.tar.gz -O - | sudo tar -xz -C /usr/local\n")),(0,l.kt)("p",null,"Then we need to add Golang to the environment variables, edit ",(0,l.kt)("inlineCode",{parentName:"p"},"/etc/profile"),", add the following code in the last line of the file."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"\u044d\u043a\u0441\u043f\u043e\u0440\u0442 GOROOT=/usr/local/go\n\u044d\u043a\u0441\u043f\u043e\u0440\u0442 PATH=$PATH:$GOROOT/bin\n")),(0,l.kt)("p",null,"Then use command ",(0,l.kt)("inlineCode",{parentName:"p"},"source /etc/profile")," to make the newly added environment variables work."),(0,l.kt)("p",null,"Now, enter ",(0,l.kt)("inlineCode",{parentName:"p"},"go version"),", you will see the go version, and we installed it successfully. If you can\u2019t connect to GitHub, you can set up the mirror. The command is"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"go ruv -w GOPROXY=https://goproxy.cn,direct\n")),(0,l.kt)("h4",{id:"git-clone-casnode--casdoor"},"Git clone Casnode & Casdoor"),(0,l.kt)("p",null,"Next, execute the following commands in the folder where you want to store the project."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/casbin/casdoor.git\ngit clone https://github.com/casbin/casnode.git\n")),(0,l.kt)("p",null,"Now, you can see there are two folders, Casnode and Casdoor."),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c-casdoor"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Casdoor"),(0,l.kt)("h4",{id:"\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c-\u043a\u0430\u0441\u0442\u0440\u044e\u043b\u044c"},"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u0430\u0441\u0442\u0440\u044e\u043b\u044c"),(0,l.kt)("p",null,"We first configure Casdoor."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-go"},"cd casdoor\ngo build main.go\n")),(0,l.kt)("p",null,"Then edit ",(0,l.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),", find"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"dataSourceName = root:123@tcp(localhost:3306)/\n")),(0,l.kt)("p",null,"Change MySQL password provided by the BT panel as ",(0,l.kt)("strong",{parentName:"p"},"123"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"cd web\nnpm install\nnpm \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c build\ncd ..\nsudo nohup ./main &\n")),(0,l.kt)("h4",{id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c-casnode-\u0432-casdoor"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Casnode \u0432 Casdoor"),(0,l.kt)("p",null,"Now that Casdoor has been configured, visit http://your-ip:8000 to configure Casnode."),(0,l.kt)("p",null,"The default administrator login account is ",(0,l.kt)("inlineCode",{parentName:"p"},"admin/123"),"."),(0,l.kt)("p",null,"Click Organization, then click Add, click Edit for the added organization, and change the name to the organization name you want. Here I set it to casbin-forum, and then click Save."),(0,l.kt)("p",null,"Click Applications, then click Add, for the application you just added, click Edit, change the name to the application name you want, I changed it to app-casbin-forum. Click on the organization, select the organization you just added, my organization  is casbin- forum. Click Redirect URLs, modify the link in the box to http://your-ip:7000/callback.Finally, remember the Client ID and Client Secret, and click Save."),(0,l.kt)("p",null,"Click Users, click Add, then click Edit, modify the added user, click Organization, select casbin-forum, and click is admin. Finally click Save, now your organization has an administrator account."),(0,l.kt)("br",null),(0,l.kt)("h3",{id:"\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c-casnode"},"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Casnode"),(0,l.kt)("p",null,"Next we configure in Casnode."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"cd casnode\ngo build main.go\n")),(0,l.kt)("p",null,"Edit ",(0,l.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),", find"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"dataSourceName = root:123@tcp(localhost:3306)/\n")),(0,l.kt)("p",null,"Change MySQL password provided by the BT panel to ",(0,l.kt)("strong",{parentName:"p"},"123"),", then find casdoorEndpoint, modify it to http://your-ip:8000 (Casdoor backend address), find ",(0,l.kt)("strong",{parentName:"p"},"ClientId")," and ",(0,l.kt)("strong",{parentName:"p"},"ClientSecret"),", and modify them to the previously remembered Application client id and client secret, find casdoorOrganization, modify the organization name to your set. Save and exit."),(0,l.kt)("p",null,"Edit ",(0,l.kt)("inlineCode",{parentName:"p"},"web/src/Conf.js"),", modify ",(0,l.kt)("inlineCode",{parentName:"p"},"serverUrl")," to http://your-ip:8000 (Casdoor front-end access address), modify ",(0,l.kt)("inlineCode",{parentName:"p"},"ClientId")," to the ClientId of the application just added, modify ",(0,l.kt)("inlineCode",{parentName:"p"},"appName")," to the set application name, and modify ",(0,l.kt)("inlineCode",{parentName:"p"},"organizationName")," to the set organization name."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"npm install\nnpm run build\ncd ..\nnohup ./main &\n")),(0,l.kt)("p",null,"Next visit ",(0,l.kt)("strong",{parentName:"p"},"http://your-ip:7000"),", click login, enter the account you added before, user_1/123, you have now successfully logged in to Casnode."),(0,l.kt)("p",null,"For more settings please see ",(0,l.kt)("a",{parentName:"p",href:"https://casnode.org/docs"},"Casnode.")))}u.isMDXComponent=!0}}]);