"use strict";(self.webpackChunkcasnode_website=self.webpackChunkcasnode_website||[]).push([[5770],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(h,s(s({ref:t},u),{},{components:n})):r.createElement(h,s({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,s=new Array(o);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var c=2;c<o;c++)s[c]=n[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},398:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const o={title:"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0441 DiscuzX",description:"Migration from DiscuzX",keywords:["discuz","discuz!","discuzx"],authors:["hsluoyz"]},s=void 0,i={unversionedId:"migration",id:"migration",title:"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0441 DiscuzX",description:"Migration from DiscuzX",source:"@site/i18n/ru/docusaurus-plugin-content-docs/current/migration.md",sourceDirName:".",slug:"/migration",permalink:"/ru/docs/migration",draft:!1,editUrl:"https://crowdin.com/project/casnode-website/ru",tags:[],version:"current",frontMatter:{title:"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0441 DiscuzX",description:"Migration from DiscuzX",keywords:["discuz","discuz!","discuzx"],authors:["hsluoyz"]},sidebar:"tutorialSidebar",previous:{title:"Docker",permalink:"/ru/docs/docker"},next:{title:"API reference",permalink:"/ru/docs/category/api-reference"}},l={},c=[{value:"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430",id:"\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430",level:2},{value:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f",id:"\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f",level:2},{value:"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f",id:"\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f",level:2},{value:"1. \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",id:"1-\u043f\u0435\u0440\u0435\u043d\u043e\u0441-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",level:3},{value:"2. \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u0430\u0432\u0430\u0442\u0430\u0440\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",id:"2-\u043f\u0435\u0440\u0435\u043d\u043e\u0441-\u0430\u0432\u0430\u0442\u0430\u0440\u0430-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",level:3},{value:"3. \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u0444\u043e\u0440\u0443\u043c\u0430",id:"3-\u043f\u0435\u0440\u0435\u043d\u043e\u0441-\u0444\u043e\u0440\u0443\u043c\u0430",level:3},{value:"4. \u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0442\u0435\u043c\u044b \u0438 \u043f\u043e\u0441\u0442\u043e\u0432",id:"4-\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f-\u0442\u0435\u043c\u044b-\u0438-\u043f\u043e\u0441\u0442\u043e\u0432",level:3},{value:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435",id:"\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435",level:2}],u={toc:c};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Casnode \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u043b \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 Go, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043c\u043e\u0447\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0438\u0445 \u0444\u043e\u0440\u0443\u043c\u044b \u0441 DiscuzX 3.x \u043d\u0430 Casnode. \u0421\u043a\u0440\u0438\u043f\u0442\u044b \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/tree/master/discuzx"},"https://github.com/casbin/casnode/tree/master/discuzx")),(0,a.kt)("p",null,"\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u0430\u044f Xorm-\u043e\u043c (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, MySQL), \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f Cansode \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0444\u043e\u0440\u0443\u043c\u0430, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0442\u0435\u043c\u044b \u0438 \u043e\u0442\u0432\u0435\u0442\u044b. \u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 (\u0432 \u0432\u0438\u0434\u0435 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u0430\u0441\u0442\u0440\u044e\u043b\u044f) \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f Casnode \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432."),(0,a.kt)("h2",{id:"\u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430"},"\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430"),(0,a.kt)("p",null,"\u041f\u0435\u0440\u0435\u0434 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0435\u0439 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u041e\u0431\u043b\u0430\u0447\u043d\u044b\u0439 VM (\u043b\u0443\u0447\u0448\u0435 \u0441 4 \u044f\u0434\u0440\u0430\u043c\u0438 \u0438 8GB \u043f\u0430\u043c\u044f\u0442\u0438, 8 \u044f\u0434\u0440\u0430\u043c\u0438 \u0438 16\u0413\u0411 \u0435\u0449\u0435 \u043b\u0443\u0447\u0448\u0435), \u043b\u0443\u0447\u0448\u0435 \u043f\u0440\u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a Intranet \u0441 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438. \u042d\u0442\u043e\u0442 \u0412\u041c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0435\u0432 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 \u0413\u043e."),(0,a.kt)("li",{parentName:"ol"},"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 Casnode git \u0441\u043e \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u043c\u0438 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 Go \u0432 \u0432\u044b\u0448\u0435\u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u043c VM (\u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 Casnode \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u0438\u043b\u0438 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d)."),(0,a.kt)("li",{parentName:"ol"},"\u0417\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0439 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043a\u0430\u0448\u0442\u0430\u043d\u0430 (\u043b\u0443\u0447\u0448\u0435 \u0432 \u0442\u043e\u043c \u0436\u0435 \u043e\u0431\u043b\u0430\u043a\u0435 VM \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438), \u0441 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0438\u043c \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0441\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043a\u0430\u043a \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u0430\u0441\u0441\u0435\u0442. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0438 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 DiscuzX \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432."),(0,a.kt)("li",{parentName:"ol"},"\u042d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 DiscuzX \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0441\u0435\u0442\u0438.")),(0,a.kt)("h2",{id:"\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f"},"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f"),(0,a.kt)("p",null,"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043a\u043e\u0440\u043f\u0443\u0441 \u0438 \u043a\u0430\u0441\u0442\u0440\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u0441\u043d\u043e\u0432\u044b\u0432\u0430\u044f\u0441\u044c \u043d\u0430 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u0430\u0445 \u043f\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435, \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043e\u043d\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e \u043f\u0435\u0440\u0435\u0434 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0435\u0439."),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"Let Casdoor and Casnode connect to the DB's Intranet URL. Let Casdoor's storage provider's endpoint be the Intranet URL of the cloud object storage. It will be much faster.")),(0,a.kt)("p",null,"Configure the Casdoor database in Casnode's app.conf, so Casnode can directly connect to Casdoor's DB and create users. This will be faster than calling Casdoor's RESTful API to create users."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ini"},"casdoorDbName = \u043b\u044e\u043a\n")),(0,a.kt)("p",null,"Configure the migration script at: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/discuzx/conf.go"},"https://github.com/casbin/casnode/blob/master/discuzx/conf.go")," ."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"dbName: \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 DiscuzX"),(0,a.kt)("li",{parentName:"ol"},"discuzxDomain: \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0439 \u0434\u043e\u043c\u0435\u043d DiscuzX \u0441 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0439 \u043a\u043e\u0441\u043e\u0439 \u0447\u0435\u0440\u0442\u043e\u0439"),(0,a.kt)("li",{parentName:"ol"},"discuzxAttachmentBaseUrl: URL \u0431\u0430\u0437\u044b \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0439 DiscuzX \u0441 \u0437\u0430\u043c\u044b\u043a\u0430\u044e\u0449\u0435\u0439 \u043a\u043e\u0441\u043e\u0439 \u0447\u0435\u0440\u0442\u043e\u0439 (\u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e \u0438\u0437 URL-\u0430\u0434\u0440\u0435\u0441\u0430 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 DiscuzX)"),(0,a.kt)("li",{parentName:"ol"},"avatarPoolBaseUrl: \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0439\u0442\u0435 \u044d\u0442\u043e")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},'\u043f\u0430\u043a\u0435\u0442 discuzx\n\nvar dbName = "ultrax"\nvar discuzxDomain = "https://www.discuz.net/"\nvar discuzxAttachmentBaseUrl = "https://attachment.discuz.net/forum/"\n')),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"In Casnode, we assume you use the same DB username and password for all 3 DBs: Casnode's DB, Casdoor's DB and DiscuzX's DB. So make sure this DB user can access all 3 DBs.")),(0,a.kt)("h2",{id:"\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f"},"\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f"),(0,a.kt)("p",null,"You may see the ",(0,a.kt)("inlineCode",{parentName:"p"},"XXXConcurrency"),' is defined at the top of the scripts, this is the number of the concurrent threads to do the migration. You can tune this value based on your environment. If it is too small, the migration will be very slow. If it is too high, the DB connections will be more likely to report "Connections too many" errors.'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-go"},"SyncAvatarsConcurrency = 20\n")),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"The estimation time we provide in the following sections is measured in a machine with remote Internet connection with the DB and object storage. If your VM is in the same subnet with the DB and object storage, you will be much faster.")),(0,a.kt)("h3",{id:"1-\u043f\u0435\u0440\u0435\u043d\u043e\u0441-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"},"1. \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),(0,a.kt)("p",null,"To migrate all your DiscuzX's UCenter members to Casdoor's users:"),(0,a.kt)("p",null,"Run ",(0,a.kt)("inlineCode",{parentName:"p"},"TestAddUsers")," in: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/discuzx/user_test.go"},"https://github.com/casbin/casnode/blob/master/discuzx/user_test.go")),(0,a.kt)("p",null,"This step will roughly take 2 minutes for 60,000 users."),(0,a.kt)("h3",{id:"2-\u043f\u0435\u0440\u0435\u043d\u043e\u0441-\u0430\u0432\u0430\u0442\u0430\u0440\u0430-\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},"2. \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u0430\u0432\u0430\u0442\u0430\u0440\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),(0,a.kt)("p",null,"To migrate all your DiscuzX's UCenter members' avatars to Casdoor's resources (via Casdoor's storage provider, backed by the cloud object storage):"),(0,a.kt)("p",null,"Run ",(0,a.kt)("inlineCode",{parentName:"p"},"TestSyncAvatars")," in: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/discuzx/avatar_test.go"},"https://github.com/casbin/casnode/blob/master/discuzx/avatar_test.go")),(0,a.kt)("p",null,"This step will roughly take 10 minutes for 60,000 users."),(0,a.kt)("h3",{id:"3-\u043f\u0435\u0440\u0435\u043d\u043e\u0441-\u0444\u043e\u0440\u0443\u043c\u0430"},"3. \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u0444\u043e\u0440\u0443\u043c\u0430"),(0,a.kt)("p",null,"To migrate all your DiscuzX's forums to Casdoor's tabs and nodes:"),(0,a.kt)("p",null,"Run ",(0,a.kt)("inlineCode",{parentName:"p"},"TestAddForums")," in: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/discuzx/forum_test.go"},"https://github.com/casbin/casnode/blob/master/discuzx/forum_test.go")),(0,a.kt)("p",null,"This step will usually finish in 2 seconds."),(0,a.kt)("h3",{id:"4-\u043c\u0438\u0433\u0440\u0430\u0446\u0438\u044f-\u0442\u0435\u043c\u044b-\u0438-\u043f\u043e\u0441\u0442\u043e\u0432"},"4. \u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f \u0442\u0435\u043c\u044b \u0438 \u043f\u043e\u0441\u0442\u043e\u0432"),(0,a.kt)("p",null,"To migrate all your DiscuzX's threads & posts to Casdoor's topics & replies:"),(0,a.kt)("p",null,"Run ",(0,a.kt)("inlineCode",{parentName:"p"},"TestAddThreads")," in: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/casbin/casnode/blob/master/discuzx/thread_test.go"},"https://github.com/casbin/casnode/blob/master/discuzx/thread_test.go")),(0,a.kt)("p",null,"This step will roughly take 7 minutes for 10,000 users."),(0,a.kt)("h2",{id:"\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435"},"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435"),(0,a.kt)("p",null,"During the migration, you can keep the Casnode instance running at the same time, so you can see the effect immediately by pressing ",(0,a.kt)("inlineCode",{parentName:"p"},"F5")," in Casnode's public homepage."),(0,a.kt)("p",null,"If you encounter panic when running the migration scripts, contact the Casnode authors."))}p.isMDXComponent=!0}}]);