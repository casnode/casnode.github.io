"use strict";(self.webpackChunkcasnode_website=self.webpackChunkcasnode_website||[]).push([[631],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return k}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var c=r.createContext({}),l=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},s=function(e){var n=l(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),p=l(t),k=o,f=p["".concat(c,".").concat(k)]||p[k]||u[k]||i;return t?r.createElement(f,a(a({ref:n},s),{},{components:t})):r.createElement(f,a({ref:n},s))}));function k(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=p;var d={};for(var c in n)hasOwnProperty.call(n,c)&&(d[c]=n[c]);d.originalType=e,d.mdxType="string"==typeof e?e:o,a[1]=d;for(var l=2;l<i;l++)a[l]=t[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},8248:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return a},default:function(){return u},frontMatter:function(){return i},metadata:function(){return d},toc:function(){return l}});var r=t(3117),o=(t(7294),t(3905));const i={},a=void 0,d={unversionedId:"docker",id:"docker",title:"docker",description:"Kasnode \xfcber Docker installieren",source:"@site/i18n/de/docusaurus-plugin-content-docs/current/docker.md",sourceDirName:".",slug:"/docker",permalink:"/de/docs/docker",draft:!1,editUrl:"https://github.com/casnode/casnode-website/tree/master/docs/docker.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"bt-panel",permalink:"/de/docs/bt-panel"},next:{title:"Migration von DiscuzX",permalink:"/de/docs/migration"}},c={},l=[{value:"Kasnode \xfcber Docker installieren",id:"kasnode-\xfcber-docker-installieren",level:2},{value:"Arbeit vorbereiten",id:"arbeit-vorbereiten",level:3},{value:"Docker und Docker-Compose installieren",id:"docker-und-docker-compose-installieren",level:4},{value:"Casnode &amp; casdoor klonen",id:"casnode--casdoor-klonen",level:4},{value:"Casdoor konfigurieren",id:"casdoor-konfigurieren",level:3},{value:"Geh\xe4use ausf\xfchren",id:"geh\xe4use-ausf\xfchren",level:4},{value:"Casnode in der Kasse konfigurieren",id:"casnode-in-der-kasse-konfigurieren",level:4},{value:"Casnode konfigurieren",id:"casnode-konfigurieren",level:3}],s={toc:l};function u(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,r.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("admonition",{title:"Die Tutorialumgebung ist Ubuntu 20.0.4 .  ",type:"caution"}),(0,o.kt)("h2",{id:"kasnode-\xfcber-docker-installieren"},"Kasnode \xfcber Docker installieren"),(0,o.kt)("h3",{id:"arbeit-vorbereiten"},"Arbeit vorbereiten"),(0,o.kt)("h4",{id:"docker-und-docker-compose-installieren"},"Docker und Docker-Compose installieren"),(0,o.kt)("p",null,"Installiere Docker und Docker-Composse, du siehst ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/get-docker/"},"Docker")," und ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/install/"},"Docker-Composite")),(0,o.kt)("br",null),(0,o.kt)("h4",{id:"casnode--casdoor-klonen"},"Casnode & casdoor klonen"),(0,o.kt)("p",null,"Dann klone Casdoor und Casndoe von GitHub."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/casbin/casdoor.git\ngit clone https://github.com/casbin/casnode.git\n")),(0,o.kt)("p",null,"Now, you can see two folders, ",(0,o.kt)("inlineCode",{parentName:"p"},"casnode")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"casdoor"),"."),(0,o.kt)("br",null),(0,o.kt)("h3",{id:"casdoor-konfigurieren"},"Casdoor konfigurieren"),(0,o.kt)("h4",{id:"geh\xe4use-ausf\xfchren"},"Geh\xe4use ausf\xfchren"),(0,o.kt)("p",null,"Wir konfigurieren zuerst Casdoor."),(0,o.kt)("p",null,"Edit ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),", modify ",(0,o.kt)("strong",{parentName:"p"},"dataSourceName = root:123@tcp(localhost:3306)/ to dataSourceName = root:123@tcp(db:3306)/")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose up\n")),(0,o.kt)("br",null),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"mysql und casdoor befinden sich in verschiedenen Docker-Containern.")),(0,o.kt)("h4",{id:"casnode-in-der-kasse-konfigurieren"},"Casnode in der Kasse konfigurieren"),(0,o.kt)("p",null,"Nun, da Casdoor konfiguriert wurde, besuchen Sie http://your-ip:8000 um Casnode zu konfigurieren."),(0,o.kt)("p",null,"Der Standard-Administrator-Login-Account ist ",(0,o.kt)("inlineCode",{parentName:"p"},"admin/123"),"."),(0,o.kt)("p",null,"Klicken Sie auf Organisation und dann auf Hinzuf\xfcgen, klicken Sie auf Bearbeiten f\xfcr die hinzugef\xfcgte Organisation und \xe4ndern Sie den Namen in den gew\xfcnschten Organisationsnamen. Hier setze ich es auf Casbin-Forum, und klicken Sie dann auf Speichern."),(0,o.kt)("p",null,"Klicken Sie auf Anwendungen und klicken Sie dann auf Hinzuf\xfcgen, um die Anwendung zu bearbeiten, \xe4ndern Sie den Namen der Anwendung, den Sie wollen, \xe4nderte ich ihn in app-casbin-forum. Klicken Sie auf die Organisation, w\xe4hlen Sie die Organisation, die Sie gerade hinzugef\xfcgt haben, meine Organisation ist Casbin-Forum. Klicken Sie auf Weiterleitungs-URLs, \xe4ndern Sie den Link in der Box auf ",(0,o.kt)("inlineCode",{parentName:"p"},"http://your-ip:7000/callback"),".Schlie\xdflich, merken Sie sich die Client ID und Client Secret, und klicken Sie auf Speichern."),(0,o.kt)("p",null,"Klicken Sie auf Benutzer, klicken Sie auf Hinzuf\xfcgen, klicken Sie dann auf Bearbeiten, \xe4ndern Sie den hinzugef\xfcgten Benutzer, klicken Sie auf Organisation, w\xe4hlen Sie das Casbin-Forum, und klicken Sie auf admin. Klicken Sie schlie\xdflich auf Speichern, jetzt hat Ihre Organisation ein Administrator-Konto."),(0,o.kt)("br",null),(0,o.kt)("h3",{id:"casnode-konfigurieren"},"Casnode konfigurieren"),(0,o.kt)("p",null,"Als n\xe4chstes konfigurieren wir in Casnode."),(0,o.kt)("p",null,"Edit ",(0,o.kt)("inlineCode",{parentName:"p"},"conf/app.conf"),", modify ",(0,o.kt)("strong",{parentName:"p"},"dataSourceName = root:123@tcp(localhost:3306)/")," to ",(0,o.kt)("strong",{parentName:"p"},"dataSourceName = root:123@tcp(db:3306)/")," so that the data come from your database."),(0,o.kt)("p",null,"Then find ",(0,o.kt)("inlineCode",{parentName:"p"},"casdoorEndpoint"),", modify it to ",(0,o.kt)("inlineCode",{parentName:"p"},"http://your-ip:8000")," (Casdoor backend address), find ",(0,o.kt)("inlineCode",{parentName:"p"},"clientId")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"clientSecret"),", and modify them to the previously remembered Application client id and client secret, find casdoorOrganization, modify the organization name to you set."),(0,o.kt)("p",null,"Edit ",(0,o.kt)("inlineCode",{parentName:"p"},"web/src/Conf.js")," , modify ",(0,o.kt)("inlineCode",{parentName:"p"},"serverUrl")," to http://your-ip:8000 (Casdoor front-end access address), modify ",(0,o.kt)("inlineCode",{parentName:"p"},"clientId")," to the clientId of the application just added, modify ",(0,o.kt)("inlineCode",{parentName:"p"},"appName")," to the set application name, and modify ",(0,o.kt)("inlineCode",{parentName:"p"},"organizationName")," to the set organization name."),(0,o.kt)("p",null,"Next, run casnode with docker"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"docker-compose hoch\n")),(0,o.kt)("p",null,"Next visit http://your-ip:7000, click login, enter the account you added before, user_1/123, you have now successfully logged in to Casnode."),(0,o.kt)("p",null,"More settings reference ",(0,o.kt)("a",{parentName:"p",href:"https://casnode.org/docs"},"casnode.")))}u.isMDXComponent=!0}}]);